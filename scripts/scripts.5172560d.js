"use strict";angular.module("universalHockeyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/stats/:teamId",{templateUrl:"views/stats.html",controller:"MainCtrl",resolve:{players:["$http","$q",function(a,b){var c=b.defer();return a.get("data/2015/spring/players.json").success(function(a){c.resolve(a)}),c.promise}]}}).when("/standings",{templateUrl:"views/standings.html",controller:"MainCtrl",resolve:{players:["$http","$q",function(a,b){var c=b.defer();return a.get("data/2015/spring/players.json").success(function(a){c.resolve(a)}),c.promise}]}}).otherwise({redirectTo:"/standings"})}]),angular.module("universalHockeyApp").controller("MainCtrl",["$scope","$http","$location","$routeParams","players",function(a,b,c,d,e){a.sortField="-points",a.teamId=Number(d.teamId),a.players=e,a.setSortField=function(b){a.sortField=b};var f=function(a){_.each(a,function(a){_.each(a.players,function(a){a.points=a.goals+a.assists}),a.points=2*a.wins+a.sol})};f(a.players.teams),a.team=_.find(a.players.teams,function(b){return b.id===a.teamId})}]);